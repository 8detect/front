<div class="m-token-rewards--ledger">
  <div class="m-token-rewards--ledger-filters m-border" *ngIf="!preview; else previewHeader">
    <m-date-selector label="From:" [date]="startDate" (dateChange)="onStartDateChange($event)" dateFormat="shortDate"></m-date-selector>
    <m-date-selector label="To:" [date]="endDate" (dateChange)="onEndDateChange($event)" dateFormat="shortDate"></m-date-selector>
  </div>
  <ng-template #previewHeader>
    <div class="m-token-rewards--ledger-filters m-token-rewards--ledger-filters--preview m-border">
      Last month
    </div>
  </ng-template>

  <div class="m-token-rewards--ledger--reward m-border" *ngFor="let reward of rewards">
    <div class="m-token-rewards--ledger--reward-amount">
      <ng-container *ngIf="reward.amount >= 0; else negativeRewardAmount">
        <span class="m-token-rewards--ledger--reward-amount--positive">
          + {{ +reward.amount | token:18 | number }}
        </span>
      </ng-container>

      <ng-template #negativeRewardAmount>
        <span class="m-token-rewards--ledger--reward-amount--negative">
          - {{ -reward.amount | token:18 | number }}
        </span>
      </ng-template>
    </div>

    <div class="m-token-rewards--ledger--reward-details">
      <p>
        {{ reward.type | uppercase }}
      </p>

      <div class="mdl-layout-spacer"></div>

      <i class="material-icons">access_time</i>
      <p class="ts">{{ reward.timestamp | date: 'mediumDate' }}</p>
    </div>
  </div>
</div>

<infinite-scroll
  distance="25%"
  (load)="load(false)"
  [moreData]="moreData"
  [inProgress]="inProgress">
</infinite-scroll>
