<div class="m--blockchain--transaction-overlay--content">
  <h2 class="m--blockchain--transaction-overlay--title">
    <ng-container *ngIf="comp === COMP_UNLOCK; else approveCompTitle">Unlock Ethereum Wallet</ng-container>
    <ng-template #approveCompTitle>Approve Ethereum Transaction</ng-template>
  </h2>

  <div class="m--blockchain--transaction-overlay--subtitle" *ngIf="comp === COMP_METAMASK">
    Please open your Metamask client to complete the transaction.
  </div>

  <div class="m--blockchain--transaction-overlay--note" *ngIf="comp !== COMP_UNLOCK && !!message">
    {{ message }}
  </div>

  <p class="m--blockchain--transaction-overlay--note" *ngIf="comp === COMP_UNLOCK">
    Please enter your Ethereum account's private key below in order to unlock your account. You can also drag and drop
    a MetaMask CSV file.
  </p>

  <ng-container *ngIf="comp === COMP_UNLOCK">
    <!-- UNLOCK -->
    <div class="m--blockchain--transaction-overlay--info" [hidden]="!droppingKeyFile">
      Drop key file below to auto-fill the field.
    </div>

    <div class="m--blockchain--transaction-overlay--field">
      <span class="m--blockchain--transaction-overlay--field-label">Private Key</span>

      <input class="m--blockchain--transaction-overlay--field-input-lg"
        [class.m--blockchain--transaction-overlay--dropping]="droppingKeyFile"
        type="text"
        [(ngModel)]="data.unlock.privateKey"
        autocomplete="off"
        autocorrect="off"
        autocapitalize="off"
        spellcheck="false"
      />
    </div>

    <div class="m--blockchain--transaction-overlay--field">
      <label class="mdl-checkbox mdl-js-checkbox mdl-js-ripple-effect" for="tx-overlay-secure-mode-1" [mdlSwitch] [toggled]="data.unlock.secureMode">
        <input
          type="checkbox" id="tx-overlay-secure-mode-1" class="mdl-checkbox__input"
          [ngModel]="data.unlock.secureMode"
          (ngModelChange)="data.unlock.secureMode = !data.unlock.secureMode"
        />

        <span class="mdl-checkbox__label m--blockchain--transaction-overlay--checkbox-label">Remember this private key for 1 minute only.</span>
      </label>
    </div>

    <div class="m--blockchain--transaction-overlay--field">
      <button class="m--blockchain--transaction-overlay--button"
        (click)="unlock()"
        [disabled]="!validateUnlock()"
      >
        Unlock
      </button>

      <button class="m--blockchain--transaction-overlay--button"
        (click)="cancel()"
      >
        Cancel
      </button>
    </div>

    <div class="m--blockchain--transaction-overlay--warning" [hidden]="data.unlock.secureMode">
      Warning: Remembering the private key for the rest of the session can be
      insecure and might lead to your ETH being stolen.
    </div>
    <!-- /UNLOCK -->
  </ng-container>

  <ng-container *ngIf="comp === COMP_LOCAL">
    <!-- LOCAL -->
    <div class="m--blockchain--transaction-overlay--field">
      <span class="m--blockchain--transaction-overlay--field-label">Gas Price</span>

      <input class="m--blockchain--transaction-overlay--field-input"
        type="number"
        [(ngModel)]="data.tx.gasPrice"
      />
    </div>

    <div class="m--blockchain--transaction-overlay--field">
      <span class="m--blockchain--transaction-overlay--field-label">Gas</span>

      <input class="m--blockchain--transaction-overlay--field-input"
        type="number"
        [(ngModel)]="data.tx.gas"
      />
    </div>

    <div class="m--blockchain--transaction-overlay--field">
      <button class="m--blockchain--transaction-overlay--button"
        (click)="approve()"
        [disabled]="!validateTxObject()"
      >
        Approve
      </button>

      <button class="m--blockchain--transaction-overlay--button"
        (click)="cancel()"
      >
        Cancel
      </button>
    </div>
    <!-- LOCAL -->
  </ng-container>

  <div class="m--blockchain--transaction-overlay--help">
    <a routerLink="/token" target="_blank">Having issues?</a>
  </div>
</div>
